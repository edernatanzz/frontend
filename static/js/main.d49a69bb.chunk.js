(this["webpackJsonpmoon-monografia_online"]=this["webpackJsonpmoon-monografia_online"]||[]).push([[0],{197:function(e,t,a){},223:function(e,t,a){},227:function(e,t,a){},228:function(e,t,a){},229:function(e,t,a){},230:function(e,t,a){},231:function(e,t,a){},232:function(e,t,a){},233:function(e,t,a){},234:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(16),o=a.n(i),c=(a(197),a(291)),s=a(286),l=a(40),u=a(26),d=a(8),j=a(28),m=a.n(j),b=a(66),h=a.n(b),p=a(168),O=a(293),x=a(2),g=Object(O.a)({root:{"& .super-app-theme--header":{backgroundColor:"#acacac"}}}),f=[{field:"tipo_banca",headerName:"Defesa",width:130,headerClassName:"super-app-theme--header"},{field:"titulo_trabalho",headerName:"T\xedtulo do Trabalho",width:650,headerClassName:"super-app-theme--header"},{field:"formatedData",headerName:"Data de realiza\xe7\xe3o",width:200,headerClassName:"super-app-theme--header"},{field:"local",headerName:"Local ou link",width:350,headerClassName:"super-app-theme--header"}];function v(e){var t=g();return Object(x.jsx)("div",{style:{height:400,width:"100%"},className:t.root,children:Object(x.jsx)(p.a,{rows:e.rows,columns:f,pageSize:5,rowsPerPageOptions:[5]})})}var y=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(void 0),o=Object(d.a)(i,2),c=o[0],s=o[1];return Object(n.useEffect)((function(){setTimeout((function(){var e=new FormData;m()({method:"get",url:"https://organizacao-de-defesas.herokuapp.com/banca",data:e,headers:{Accept:"application/json"}}).then((function(e){var t=e.data.data;if(t){t.forEach((function(e){e.data=new Date(e.data_realizacao),e.data.setSeconds(0),e.formatedData=e.data.toLocaleString("pt-BR",{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}),console.log(e.formatedData),e.autor="Frederico Dur\xe3o"}));var n=new Date;t.sort((function(e,t){return e.data_realizacao<t.data_realizacao?-1:1})),t=t.filter((function(e){return e.data>n})),r(t),console.log(a)}return s(!0),e}))}),0)}),[]),Object(x.jsx)(x.Fragment,{children:c?Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)("h3",{className:"left-btn",style:{color:"#000"},children:"Pr\xf3ximas defesas"}),Object(x.jsx)("div",{className:"user-list"}),Object(x.jsx)(v,{rows:a}),console.log(a)]}):Object(x.jsx)("div",{className:"center",children:Object(x.jsx)(h.a,{type:"spin",color:"#41616c",height:100,width:100})})})},w=a(24),N=a.n(w),S=a(41),T=a(17),C=a(58),k=(a(223),a(290)),_=a(18),I=a(25),z=a(143),q=a(292),F=a(80),A=a(123),D=a(289),R=a(295),L=a(27);var U=function(){var e=Object(u.e)();function t(e){var t=e.input,a=t.name,n=t.onChange,r=t.value,i=Object(C.a)(t,["name","onChange","value"]),o=e.meta,c=Object(C.a)(e,["input","meta"]),s=(o.submitError&&!o.dirtySinceLastSubmit||o.error)&&o.touched;return Object(x.jsx)(D.a,Object(T.a)(Object(T.a)({},c),{},{name:a,format:"dd/MM/yyyy",helperText:s?o.error||o.submitError:void 0,error:s,inputProps:i,onChange:n,value:""===r?null:r}))}function a(e){var t=e.input,a=t.name,n=t.onChange,r=t.value,i=Object(C.a)(t,["name","onChange","value"]),o=e.meta,c=Object(C.a)(e,["input","meta"]),s=(o.submitError&&!o.dirtySinceLastSubmit||o.error)&&o.touched;return Object(x.jsx)(R.a,Object(T.a)(Object(T.a)({},c),{},{name:a,helperText:s?o.error||o.submitError:void 0,error:s,inputProps:i,onChange:n,value:""===r?null:r}))}function n(e){var t=new FormData;return Object.keys(e).forEach((function(a){return t.append(a,e[a])})),t}var r=function(){var t=Object(S.a)(N.a.mark((function t(a){var r,i,o;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new Date(a.hora),i=new Date(a.data_realizacao),o=localStorage.getItem("loginToken"),r.setHours(r.getHours()-3),r.setDate(i.getDate()),r.setMonth(i.getMonth()),r.setFullYear(i.getFullYear()),r=r.toISOString(),a.data_realizacao=r,t.next=11,m()({method:"post",url:"https://organizacao-de-defesas.herokuapp.com/banca",data:n(a),headers:{"Content-Type":"multipart/form-data",Authorization:o,Accept:"application/json"}}).then((function(t){e.push("dashboard")}));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(x.jsx)(k.a,{className:"App",children:Object(x.jsxs)("div",{style:{padding:16,margin:"auto",maxWidth:2e3},children:[Object(x.jsx)(c.a,{}),Object(x.jsx)(_.b,{onSubmit:r,initialValues:{},validate:function(e){var t={};return e.titulo_trabalho||(t.titulo_trabalho="Required"),e.resumo||(t.resumo="Required"),e.abstract||(t.abstract="Required"),e.palavras_chave||(t.palavras_chave="Required"),e.data_realizacao||(t.data_realizacao="Required"),e.hora||(t.hora="Required"),e.local||(t.local="Required"),e.tipo_banca||(t.tipo_banca="Required"),t},render:function(e){var n=e.handleSubmit,r=(e.reset,e.submitting);e.pristine,e.values;return Object(x.jsx)("form",{onSubmit:n,noValidate:!0,children:Object(x.jsx)(z.a,{style:{padding:16},children:Object(x.jsxs)(q.a,{container:!0,alignItems:"flex-start",spacing:2,children:[Object(x.jsx)(q.a,{item:!0,xs:12,children:Object(x.jsx)(_.a,{fullWidth:!0,required:!0,multiline:!0,name:"titulo_trabalho",component:I.TextField,type:"text",label:"Titulo"})}),Object(x.jsx)(q.a,{item:!0,xs:12,children:Object(x.jsx)(_.a,{fullWidth:!0,required:!0,multiline:!0,name:"resumo",component:I.TextField,type:"text",label:"Resumo"})}),Object(x.jsx)(q.a,{item:!0,xs:12,children:Object(x.jsx)(_.a,{name:"abstract",fullWidth:!0,multiline:!0,required:!0,component:I.TextField,label:"Abstract"})}),Object(x.jsx)(q.a,{item:!0,xs:12,children:Object(x.jsx)(_.a,{name:"palavras_chave",fullWidth:!0,required:!0,multiline:!0,component:I.TextField,label:"Palavras Chave (Separadas por v\xedrgula)"})}),Object(x.jsx)(q.a,{item:!0,xs:12,children:Object(x.jsx)(_.a,{name:"tipo_banca",multiline:!0,fullWidth:!0,required:!0,component:I.TextField,label:"Tipo da defesa"})}),Object(x.jsx)(q.a,{item:!0,xs:12,children:Object(x.jsx)(_.a,{name:"local",multiline:!0,fullWidth:!0,required:!0,component:I.TextField,label:"Local ou link"})}),Object(x.jsxs)(L.a,{utils:A.a,children:[Object(x.jsx)(q.a,{item:!0,xs:6,children:Object(x.jsx)(_.a,{name:"data_realizacao",component:t,required:!0,fullWidth:!0,margin:"normal",label:"Data"})}),Object(x.jsx)(q.a,{item:!0,xs:6,children:Object(x.jsx)(_.a,{name:"hora",required:!0,component:a,fullWidth:!0,margin:"normal",label:"Hora"})})]}),Object(x.jsx)(q.a,{item:!0,style:{marginTop:16},children:Object(x.jsx)(F.a,{variant:"contained",color:"primary",type:"submit",disabled:r,children:"Adicionar"})})]})})})}})]})})},M=a(7),W=a(87),E=a(88),P=a(102),B=a(101),H=Object(n.createContext)(),V=m.a.create({baseURL:"https://organizacao-de-defesas.herokuapp.com"}),J=function(e){Object(P.a)(a,e);var t=Object(B.a)(a);function a(){var e;return Object(W.a)(this,a),(e=t.call(this)).state={isAuth:!1},e.logoutUser=function(){localStorage.removeItem("loginToken"),e.setState(Object(T.a)(Object(T.a)({},e.state),{},{isAuth:!1}))},e.registerUser=function(){var e=Object(S.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.post("usuario",{nome:t.nome,email:t.email,username:t.username,password:t.password,school:t.universidade,academic_title:"Bacharelado",status:"user"});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.loginUser=function(){var e=Object(S.a)(N.a.mark((function e(t){var a,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("username",t.username),a.append("password",t.password),e.next=5,m()({method:"post",url:"https://organizacao-de-defesas.herokuapp.com/login",data:a,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e})).catch((function(e){return 0}));case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.isLoggedIn=function(){return null!==localStorage.getItem("loginToken")},e.state={loading:!0,data:[]},e.isLoggedIn(),e}return Object(E.a)(a,[{key:"render",value:function(){var e={rootState:this.state,toggleNav:this.toggleNav,isLoggedIn:this.isLoggedIn,registerUser:this.registerUser,loginUser:this.loginUser,logoutUser:this.logoutUser};return Object(x.jsx)(H.Provider,{value:e,children:this.props.children})}}]),a}(n.Component);a(227);var Y=function(){var e=Object(n.useContext)(H).loginUser,t={userInfo:{username:"",password:""},errorMsg:"",successMsg:""},a=Object(u.e)(),r=Object(n.useState)(t),i=Object(d.a)(r,2),o=i[0],c=i[1],s=function(e){c(Object(T.a)(Object(T.a)({},o),{},{userInfo:Object(T.a)(Object(T.a)({},o.userInfo),{},Object(M.a)({},e.target.name,e.target.value))}))},l=function(){var n=Object(S.a)(N.a.mark((function n(r){var i;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),n.next=3,e(o.userInfo);case 3:(i=n.sent).data?(c(Object(T.a)({},t)),localStorage.setItem("userId",i.data.id),localStorage.setItem("loginToken",i.data.token),a.push("dashboard")):c(Object(T.a)(Object(T.a)({},o),{},{successMsg:""}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),j="",m="";return o.errorMsg&&(m=Object(x.jsx)("div",{className:"error-msg",children:o.errorMsg})),o.successMsg&&(j=Object(x.jsx)("div",{className:"success-msg",children:o.successMsg})),Object(x.jsxs)("div",{className:"_loginRegister",children:[Object(x.jsx)("div",{className:"column",children:Object(x.jsx)("img",{width:"70%",height:"70%",alt:"Logo Ufba",src:"https://www.ufba.br/sites/portal.ufba.br/files/brasao_ufba.jpg"})}),Object(x.jsxs)("div",{className:"column right",children:[Object(x.jsx)("h1",{children:"Login"}),Object(x.jsxs)("form",{onSubmit:l,noValidate:!0,children:[Object(x.jsxs)("div",{className:"form-control",children:[Object(x.jsx)("label",{children:"Usu\xe1rio"}),Object(x.jsx)("input",{name:"username",type:"text",required:!0,placeholder:"Usu\xe1rio",value:o.userInfo.email,onChange:s})]}),Object(x.jsx)("p",{}),Object(x.jsxs)("div",{className:"form-control",children:[Object(x.jsx)("label",{children:"Senha"}),Object(x.jsx)("input",{name:"password",type:"password",required:!0,placeholder:"Digite sua senha",value:o.userInfo.password,onChange:s})]}),m,j,Object(x.jsx)("p",{}),Object(x.jsx)("div",{className:"form-control",children:Object(x.jsx)("button",{type:"submit",children:"Login"})})]})]})]})};a(228);var G=function(){var e=Object(n.useContext)(H),t=(e.toggleNav,e.registerUser),a=Object(n.useState)({userInfo:{nome:"",email:"",username:"",password:"",academic_title:"",universidade:""},errorMsg:"",successMsg:""}),r=Object(d.a)(a,2),i=r[0],o=(r[1],Object(u.e)()),s=function(){var e=Object(S.a)(N.a.mark((function e(a){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(a);case 2:e.sent,o.push("");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i.errorMsg&&i.errorMsg,i.successMsg&&i.successMsg,Object(x.jsx)(k.a,{className:"App",children:Object(x.jsxs)("div",{style:{padding:16,margin:"auto",maxWidth:2e3},children:[Object(x.jsx)(c.a,{}),Object(x.jsx)(_.b,{onSubmit:s,initialValues:{},validate:function(e){var t={};return e.nome||(t.nome="Required"),e.email||(t.email="Required"),e.username||(t.username="Required"),e.password||(t.password="Required"),e.universidade||(t.universidade="Required"),t},render:function(e){var t=e.handleSubmit,a=e.submitting;return Object(x.jsx)("form",{onSubmit:t,noValidate:!0,children:Object(x.jsx)(z.a,{style:{padding:16},children:Object(x.jsxs)(q.a,{container:!0,alignItems:"flex-start",spacing:2,children:[Object(x.jsx)(q.a,{item:!0,xs:12,children:Object(x.jsx)(_.a,{fullWidth:!0,required:!0,name:"nome",value:i.userInfo.nome,component:I.TextField,type:"text",label:"Nome"})}),Object(x.jsx)(q.a,{item:!0,xs:12,children:Object(x.jsx)(_.a,{fullWidth:!0,required:!0,multiline:!0,name:"email",value:i.userInfo.email,component:I.TextField,type:"text",label:"Email"})}),Object(x.jsx)(q.a,{item:!0,xs:12,children:Object(x.jsx)(_.a,{fullWidth:!0,required:!0,multiline:!0,name:"username",value:i.userInfo.username,component:I.TextField,type:"text",label:"Username"})}),Object(x.jsx)(q.a,{item:!0,xs:12,children:Object(x.jsx)(_.a,{fullWidth:!0,required:!0,name:"password",value:i.userInfo.password,component:I.TextField,type:"password",label:"Senha"})}),Object(x.jsx)(q.a,{item:!0,xs:12,children:Object(x.jsx)(_.a,{fullWidth:!0,required:!0,multiline:!0,name:"universidade",value:i.userInfo.universidade,component:I.TextField,type:"text",label:"Universidade"})}),Object(x.jsx)(q.a,{item:!0,style:{marginTop:16},children:Object(x.jsx)(F.a,{variant:"contained",color:"primary",type:"submit",disabled:a,children:"Registrar"})})]})})})}})]})})};a(229);var K=function(){var e=Object(n.useContext)(H),t=(e.toggleNav,e.registerUser,Object(n.useState)([])),a=Object(d.a)(t,2),r=a[0],i=a[1],o=Object(n.useState)(void 0),c=Object(d.a)(o,2),s=c[0],l=c[1],j=Object(u.e)(),b=localStorage.getItem("loginToken"),p=localStorage.getItem("userId");return Object(n.useEffect)((function(){setTimeout((function(){var e=new FormData;m()({method:"get",url:"https://organizacao-de-defesas.herokuapp.com/usuario/"+p+"/banca",data:e,headers:{"Content-Type":"multipart/form-data",Authorization:b,Accept:"application/json"}}).then((function(e){return i(e.data.data),l(!0),e}))}),0)}),[]),Object(x.jsx)(x.Fragment,{children:s?Object(x.jsxs)("div",{className:"container",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{className:"left-btn",children:"Minhas Bancas"}),Object(x.jsx)("div",{className:"right-btn",children:Object(x.jsx)(F.a,{type:"button",variant:"contained",color:"primary",onClick:function(){j.push("addbanca")},children:"Adicionar banca"})})]}),Object(x.jsx)("div",{className:"user-list",children:r&&r.length>0?r.map((function(e){return Object(x.jsxs)("div",{className:"user",children:[Object(x.jsx)("div",{className:"user-name",children:e.titulo_trabalho}),Object(x.jsxs)("div",{className:"user-right",children:[Object(x.jsx)("button",{title:"Editar banca",name:"edit-board",type:"submit",id:"edit-board",onClick:function(){return function(e){localStorage.setItem("banca",JSON.stringify(e)),j.push("verbanca")}(e)}}),Object(x.jsx)("button",{title:"Adicionar membro",name:"add-user",type:"submit",id:"add-user",onClick:function(){return t=e.id,localStorage.setItem("bancaId",t),void j.push("addition");var t}})]})]},e.id)})):Object(x.jsx)("h1",{})})]}):Object(x.jsx)("div",{className:"center",children:Object(x.jsx)(h.a,{type:"spin",color:"#41616c",height:100,width:100})})})};a(230);var Q=function(){var e=Object(n.useContext)(H),t=(e.toggleNav,e.registerUser,Object(n.useState)([])),a=Object(d.a)(t,2),r=a[0],i=a[1],o=Object(n.useState)([]),c=Object(d.a)(o,2),s=c[0],l=c[1],j=Object(n.useState)([]),b=Object(d.a)(j,2),p=b[0],O=b[1],g=Object(n.useState)(void 0),f=Object(d.a)(g,2),v=f[0],y=f[1],w=Object(n.useState)(void 0),N=Object(d.a)(w,2),S=N[0],T=N[1],C=(Object(u.e)(),function(){window.location.reload()}),k=localStorage.getItem("loginToken"),_=(localStorage.getItem("userId"),localStorage.getItem("bancaId")),I=function(e,t){var a=new FormData;a.append("id_usuario",e),a.append("role",t),m()({method:"post",url:"https://organizacao-de-defesas.herokuapp.com/usuario-banca/".concat(_),data:a,headers:{"Content-Type":"multipart/form-data",Authorization:k,Accept:"application/json"}}).then((function(e){C()}))};return Object(n.useEffect)((function(){setTimeout((function(){var e=new FormData;m()({method:"get",url:"https://organizacao-de-defesas.herokuapp.com/usuario-banca/usuarios/"+_,data:e,headers:{"Content-Type":"multipart/form-data",Authorization:k,Accept:"application/json"}}).then((function(e){l(e.data.data),T(!0);for(var t=[],a=0;a<e.data.data.length;++a)t.push(parseInt(e.data.data[a].id));return O(t),e}))}),0)}),[]),Object(n.useEffect)((function(){setTimeout((function(){var e=new FormData;m()({method:"get",url:"https://organizacao-de-defesas.herokuapp.com/usuario",data:e,headers:{"Content-Type":"multipart/form-data",Authorization:k,Accept:"application/json"}}).then((function(e){return i(e.data.data),y(!0),e}))}),0)}),[]),Object(x.jsx)(x.Fragment,{children:v&&S?Object(x.jsxs)("div",{className:"container",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{className:"left-btn",children:"Componentes da banca"}),Object(x.jsx)("h4",{className:"right-head",children:"Limites: 1 orientador, 2 avaliadores, 1 aluno"})]}),Object(x.jsx)("div",{className:"user-list",children:s&&s.length>0?s.map((function(e){return Object(x.jsxs)("div",{className:"user",children:[Object(x.jsx)("span",{className:"user-name",children:e.nome}),Object(x.jsxs)("div",{className:"user-right",children:[Object(x.jsx)("span",{className:"role",children:e.role}),"orientador"!=e.role?Object(x.jsx)("button",{onClick:function(){return t=e.id,void m()({method:"delete",url:"https://organizacao-de-defesas.herokuapp.com/banca/".concat(_,"/user/").concat(t),headers:{"Content-Type":"multipart/form-data",Authorization:k,Accept:"application/json"}}).then((function(e){C()}));var t},className:"user-role",children:"Remover da banca"}):Object(x.jsx)("div",{className:"hide"})]})]},e.id)})):Object(x.jsx)("div",{})}),Object(x.jsx)("h2",{children:"Adicionar membro"}),Object(x.jsx)("div",{children:r&&r.length>0?r.filter((function(e){return!p.includes(e.id)})).map((function(e){return Object(x.jsxs)("div",{className:"user",children:[Object(x.jsx)("span",{className:"user-name",children:e.nome}),Object(x.jsxs)("div",{className:"user-right",children:[Object(x.jsx)("button",{onClick:function(){return I(e.id,"avaliador")},className:"user-role",children:"Adicionar como avaliador"}),Object(x.jsx)("button",{onClick:function(){return I(e.id,"aluno")},className:"user-role",children:"Adicionar como aluno"})]})]},e.id)})):Object(x.jsx)("div",{})})]}):Object(x.jsx)("div",{className:"center",children:Object(x.jsx)(h.a,{type:"spin",color:"#41616c",height:100,width:100})})})};a(231);var X=function(){var e=JSON.parse(localStorage.getItem("banca"));e.data_realizacao=new Date(e.data_realizacao);var t=localStorage.getItem("userId"),a=localStorage.getItem("loginToken"),r=Object(n.useState)([]),i=Object(d.a)(r,2),o=i[0],s=i[1],l=Object(n.useState)([]),j=Object(d.a)(l,2),b=j[0],p=j[1],O=Object(n.useState)([]),g=Object(d.a)(O,2),f=g[0],v=g[1],y=Object(n.useState)(void 0),w=Object(d.a)(y,2),U=w[0],W=w[1],E=Object(u.e)();function P(e){var t=e.input,a=t.name,n=t.onChange,r=t.value,i=Object(C.a)(t,["name","onChange","value"]),o=e.meta,c=Object(C.a)(e,["input","meta"]),s=(o.submitError&&!o.dirtySinceLastSubmit||o.error)&&o.touched;return Object(x.jsx)(D.a,Object(T.a)(Object(T.a)({},c),{},{name:a,format:"dd/MM/yyyy",helperText:s?o.error||o.submitError:void 0,error:s,inputProps:i,onChange:n,value:""===r?null:r}))}function B(e){var t=e.input,a=t.name,n=t.onChange,r=t.value,i=Object(C.a)(t,["name","onChange","value"]),o=e.meta,c=Object(C.a)(e,["input","meta"]),s=(o.submitError&&!o.dirtySinceLastSubmit||o.error)&&o.touched;return Object(x.jsx)(R.a,Object(T.a)(Object(T.a)({},c),{},{name:a,helperText:s?o.error||o.submitError:void 0,error:s,inputProps:i,onChange:n,value:""===r?null:r}))}function H(e){var t=[];for(var a in e){var n=encodeURIComponent(a),r=encodeURIComponent(e[a]);t.push(n+"="+r)}return t=t.join("&")}var V=function(){var t=Object(S.a)(N.a.mark((function t(a){var n,r,i,o;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Date(a.hora),r=new Date(a.data_realizacao),i=localStorage.getItem("loginToken"),n.setHours(n.getHours()-3),n.setDate(r.getDate()),n.setMonth(r.getMonth()),n.setFullYear(r.getFullYear()),a.data_realizacao=n.toISOString(),m()({method:"put",url:"https://organizacao-de-defesas.herokuapp.com/banca/".concat(e.id),data:H(a),headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:i,Accept:"application/json"}}).then((function(e){E.push("dashboard")})),"aluno"!=f&&(o={nota:parseFloat(a.nota)},m()({method:"put",url:"https://organizacao-de-defesas.herokuapp.com/usuario-banca/".concat(b),data:H(o),headers:{"Content-Type":"multipart/form-data",Authorization:i,Accept:"application/json"}}).then((function(e){return e})));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),J=function(){var t=Object(S.a)(N.a.mark((function t(){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:fetch("https://organizacao-de-defesas.herokuapp.com/documento/".concat(e.id),{method:"GET",headers:{Authorization:a}}).then((function(e){return e.blob()})).then((function(e){W(!0);var t=window.URL.createObjectURL(e);window.open(t,"_blank").focus()})).catch((function(e){W(!0),console.log(e)}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){setTimeout((function(){m()({method:"get",url:"https://organizacao-de-defesas.herokuapp.com/usuario-banca/id/".concat(e.id,"/").concat(t),headers:{"Content-Type":"application/json",Authorization:a,Accept:"application/json"}}).then((function(t){return v(t.data.data.role),p(t.data.data.id),"aluno"==t.data.data.role?m()({method:"get",url:"https://organizacao-de-defesas.herokuapp.com/nota/".concat(e.id),headers:{"Content-Type":"application/json",Authorization:a,Accept:"application/json"}}).then((function(e){s(e.data.data||""),W(!0)})):(s(t.data.data.nota||""),W(!0)),t}))}),0)}),[]),Object(x.jsx)(x.Fragment,{children:U?Object(x.jsx)(k.a,{className:"App",children:Object(x.jsxs)("div",{style:{padding:16,margin:"auto",maxWidth:2e3},children:[Object(x.jsx)(c.a,{}),Object(x.jsx)(_.b,{onSubmit:V,initialValues:{titulo_trabalho:e.titulo_trabalho,resumo:e.resumo,abstract:e.abstract,palavras_chave:e.palavras_chave,local:e.local,data_realizacao:e.data_realizacao,hora:e.data_realizacao,nota:o,nota_nao_alteravel:o,tipo_banca:e.tipo_banca},validate:function(e){var t={};return e.titulo_trabalho||(t.titulo_trabalho="Required"),e.resumo||(t.resumo="Required"),e.abstract||(t.abstract="Required"),e.palavras_chave||(t.palavras_chave="Required"),e.local||(t.local="Required"),e.tipo_banca||(t.tipo_banca="Required"),t},render:function(e){var t,a=e.handleSubmit,n=(e.reset,e.submitting);e.pristine,e.values;return Object(x.jsx)("form",{onSubmit:a,noValidate:!0,children:Object(x.jsxs)(z.a,{style:{padding:16},children:[Object(x.jsxs)("div",{className:"cargo",children:["Cargo: ",f]}),Object(x.jsxs)(q.a,{container:!0,alignItems:"flex-start",spacing:2,children:[Object(x.jsx)(q.a,{item:!0,xs:12,children:Object(x.jsx)(_.a,{fullWidth:!0,required:!0,multiline:!0,name:"titulo_trabalho",component:I.TextField,type:"text",label:"Titulo"})}),Object(x.jsx)(q.a,{item:!0,xs:12,children:Object(x.jsx)(_.a,{fullWidth:!0,required:!0,multiline:!0,name:"resumo",component:I.TextField,type:"text",label:"Resumo"})}),Object(x.jsx)(q.a,{item:!0,xs:12,children:Object(x.jsx)(_.a,{name:"abstract",fullWidth:!0,multiline:!0,required:!0,component:I.TextField,label:"Abstract"})}),Object(x.jsx)(q.a,{item:!0,xs:12,children:Object(x.jsx)(_.a,{name:"palavras_chave",fullWidth:!0,required:!0,multiline:!0,component:I.TextField,label:"Palavras Chave (Separadas por v\xedrgula)"})}),Object(x.jsx)(q.a,{item:!0,xs:12,children:Object(x.jsx)(_.a,{name:"tipo_banca",multiline:!0,fullWidth:!0,required:!0,component:I.TextField,label:"Tipo da defesa"})}),Object(x.jsx)(q.a,{item:!0,xs:12,children:Object(x.jsx)(_.a,(t={name:"local",multiline:!0,fullWidth:!0,component:I.TextField,required:!0},Object(M.a)(t,"multiline",!0),Object(M.a)(t,"label","Local ou link"),t))}),Object(x.jsxs)(L.a,{utils:A.a,children:[Object(x.jsx)(q.a,{item:!0,xs:6,children:Object(x.jsx)(_.a,{name:"data_realizacao",component:P,required:!0,fullWidth:!0,margin:"normal",label:"Data"})}),Object(x.jsx)(q.a,{item:!0,xs:6,children:Object(x.jsx)(_.a,{name:"hora",required:!0,component:B,fullWidth:!0,margin:"normal",label:"Hora"})}),"aluno"!=f?Object(x.jsx)(q.a,{item:!0,xs:12,children:Object(x.jsx)(_.a,{name:"nota",fullWidth:!0,component:I.TextField,label:"Nota"})}):Object(x.jsx)(q.a,{item:!0,xs:12,children:Object(x.jsx)(_.a,{name:"nota_nao_alteravel",disabled:!0,fullWidth:!0,component:I.TextField,label:"Nota Final"})})]}),Object(x.jsxs)(q.a,{item:!0,style:{marginTop:16},children:[Object(x.jsx)(F.a,{variant:"contained",color:"primary",type:"submit",disabled:n,children:"Editar"}),"orientador"==f?Object(x.jsx)(F.a,{variant:"contained",color:"primary",onClick:function(){W(!1),J()},children:"Gerar relat\xf3rio"}):Object(x.jsx)("p",{})]})]})]})})}})]})}):Object(x.jsx)("div",{className:"center",children:Object(x.jsx)(h.a,{type:"spin",color:"#41616c",height:100,width:100})})})},Z=function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(u.a,{component:y,path:"/",exact:!0}),Object(x.jsx)(u.a,{component:U,path:"/addbanca"}),Object(x.jsx)(u.a,{component:Y,path:"/login",exact:!0}),Object(x.jsx)(u.a,{component:G,path:"/register",exact:!0}),Object(x.jsx)(u.a,{component:K,path:"/dashboard",exact:!0}),Object(x.jsx)(u.a,{component:Q,path:"/addition",exact:!0}),Object(x.jsx)(u.a,{component:X,path:"/verbanca",exact:!0})]})},$=a(100),ee=(a(232),function(){var e=Object(n.useContext)(H),t=e.loginUser,a=e.logoutUser,i=e.isLoggedIn,o=Object(n.useState)(i()),c=Object(d.a)(o,2),s=c[0],j=c[1],m=Object(u.e)(),b={username:"",password:""},h=function(e){m.push(e)},p=Object(n.useState)(b),O=Object(d.a)(p,2),g=O[0],f=O[1],v=function(e){f(Object(T.a)(Object(T.a)({},g),{},Object(M.a)({},e.target.name,e.target.value)))},y=function(){var e=Object(S.a)(N.a.mark((function e(a){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,t(g);case 3:(n=e.sent).data?(localStorage.setItem("userId",n.data.id),localStorage.setItem("loginToken",n.data.token),j(!0),h("dashboard")):console.log("kk, man");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=r.a.useState(null),C=Object(d.a)(w,2),k=C[0];C[1],Boolean(k);return Object(x.jsxs)("div",{className:"header",expand:"lg",style:{backgroundImage:"url(/frontend/img/header.png)"},children:[Object(x.jsx)("div",{className:"logo-container",children:Object(x.jsx)("div",{children:Object(x.jsxs)(l.b,{to:"/",style:{textDecoration:"none"},children:[Object(x.jsx)("img",{src:"/frontend/img/instituto_de_computacao.png",alt:"Logos IC",className:"img-logo"}),Object(x.jsx)("h1",{className:"logo",children:"sisdef"})]})})}),s?Object(x.jsxs)("div",{className:"login-form",children:[Object(x.jsx)(F.a,{className:"login-button",component:l.b,to:"/",style:{marginTop:-20,marginLeft:20},children:"Home"}),Object(x.jsx)(F.a,{className:"login-button",component:l.b,to:"/dashboard",style:{marginTop:-20,marginLeft:20},children:"Minhas Bancas"}),Object(x.jsx)(F.a,{className:"login-button",onClick:function(){a(),j(!1),f(b),h("/")},style:{marginTop:-20,marginLeft:20},children:"Logout"})]}):Object(x.jsxs)("form",{className:"login-form",onSubmit:y,children:[Object(x.jsx)($.a,{className:"login-input",name:"username",label:"Usu\xe1rio",variant:"outlined",size:"small",style:{marginLeft:20},onChange:v}),Object(x.jsx)($.a,{className:"login-input",name:"password",label:"Senha",variant:"outlined",size:"small",type:"password",style:{marginLeft:20},onChange:v}),Object(x.jsx)(F.a,{className:"login-button",type:"submit",style:{marginTop:-20,marginLeft:20},children:"Entrar"}),Object(x.jsx)(F.a,{className:"login-button",style:{marginTop:-20,marginLeft:0},onClick:function(){h("/register")},children:"Registrar"})]})]})});a(233);var te=function(){return Object(x.jsxs)("div",{className:"footer",bg:"light",expand:"lg",fixed:"bottom",style:{backgroundImage:"url(/frontend/img/header.png)"},children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("strong",{children:"INSTITUTO DE COMPUTA\xc7\xc3O"}),Object(x.jsx)("div",{children:"Avenida Adhemar de Barros, s/n - Campus de Ondina"}),Object(x.jsx)("div",{children:"CEP: 40.170-110 Salvador-Bahia Telefone: 3283-6164"})]}),Object(x.jsx)("img",{src:"https://dcc.ufba.br/sites/computacao.ufba.br/files/logos_ufba_rodape.png",alt:"Logos IC"})]})};var ae=function(){return Object(x.jsx)(l.a,{children:Object(x.jsxs)(J,{children:[Object(x.jsx)(ee,{}),Object(x.jsxs)("div",{className:"app-container",style:{minHeight:500},children:[Object(x.jsx)("div",{style:{minHeight:500},children:Object(x.jsx)(Z,{})}),Object(x.jsx)(te,{})]})]})})},ne=a(126),re=a(74),ie=Object(re.b)({palette:{type:"light",primary:{main:"#000",light:"#000",dark:"#000"},secondary:{main:"#000",light:"#000",dark:"#000"},input:{color:"white"},error:{main:ne.a.A400},background:{default:"#FFF"}},overrides:{MuiPaper:{root:{padding:"20px 10px",margin:"10px",backgroundColor:"#fff"}},MuiButton:{root:{margin:"5px"}}}});o.a.render(Object(x.jsxs)(s.a,{theme:ie,children:[Object(x.jsx)(c.a,{}),Object(x.jsx)(ae,{})]}),document.getElementById("root"))}},[[234,1,2]]]);
//# sourceMappingURL=main.d49a69bb.chunk.js.map